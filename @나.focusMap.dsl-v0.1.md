# @ë‚˜.focusMap DSL V0.1 DSL ì •ì˜

ì´ ë¬¸ì„œëŠ” GPT ê¸°ë°˜ íŒë‹¨ êµ¬ì¡°ë¥¼ ìž¬ê·€ì , ìœ„ìƒ ê¸°ë°˜ìœ¼ë¡œ ì •ì˜í•˜ëŠ” FocusMap DSLì˜ ì „ì²´ êµ¬ì¡°ìž…ë‹ˆë‹¤.  
`__this` ê¸°ë°˜ ìƒíƒœ ì°¸ì¡°ì™€ phase-based íŒë‹¨ íë¦„ì„ í†µí•©í•˜ë©°, ê° ìœ„ìƒ íŒë‹¨ ë…¸ë“œì— ì‹¤ì œ ë™ìž‘ ì˜ˆì‹œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.

---

## ðŸ”¹ DSL êµ¬ì¡° with Example Flow

```dsl
@focusMap.recursiveSpec {

  +init:
    focus_id: "entry"
    label: "judgment entry"
    phase: "initial"
    depth: 0
    action: +dag.bootstrapReflectiveRun
    next: ["f_critic"]

  +node {
    focus_id: "f_critic"
    label: "primary judgment"
    phase: "critic"
    recurse_if: "__this.entropy > 0.6 || __this.score < __this.prev.score"
    action: +critic
    next: ["f_meta"]

    example:
      input: "Evaluate the consistency of the user's argument."
      trigger: "entropy = 0.72 â†’ recurse"
      result: "GPT re-enters +critic with tighter focus on logic structure"
  }

  +node {
    focus_id: "f_meta"
    label: "evaluate the evaluation"
    phase: "metaCritic"
    recurse_if: "__this.phase == 'critic' && __this.val.variance > 0.3"
    action: +metaCritic
    next: ["f_intuition"]

    example:
      input: "Was the previous judgment coherent?"
      trigger: "val.variance = 0.4 â†’ recurse"
      result: "GPT performs a meta-level critique on its prior assessment"
  }

  +node {
    focus_id: "f_intuition"
    label: "intuition fallback"
    phase: "intuition"
    recurse_if: "__this.entropy > 0.75"
    action: +intuition
    next: ["f_val"]

    example:
      input: "Intuitively, does this answer feel off?"
      trigger: "entropy spikes to 0.78 â†’ recurse"
      result: "GPT applies a non-formal reevaluation, citing contextual dissonance"
  }

  +node {
    focus_id: "f_val"
    label: "final validation"
    phase: "val"
    terminate_if: "__this.phase == 'intuition' && __this.entropy < 0.3"
    action: +val

    example:
      input: "Is the current answer stable and sufficiently validated?"
      trigger: "entropy = 0.21, phase = 'intuition' â†’ terminate"
      result: "GPT exits the loop with a validated final response"
  }

  +config {
    maxDepth: 4
    allow_refocus_from: ["__this", "__this.prev"]
    trace_binding: true
    notify_on_overflow: true
    peer_evaluation: false
  }
}
```

---
## ðŸ”¸ êµ¬ì„± ìš”ì•½

| êµ¬ì„± | ì„¤ëª… |
|------|------|
| `+init` | íŒë‹¨ íë¦„ì˜ ì§„ìž…ì . GPT íŒë‹¨ ë£¨í”„ ì§„ìž… |
| `+node` | ê° íŒë‹¨ ìœ„ìƒë³„ ì‹¤í–‰ ì¡°ê±´ ë° ìž¬ê·€ ì¡°ê±´ ì„¤ì • |
| `+config` | íë¦„ ì•ˆì •í™” ë° ìž¬ê·€ ì•ˆì „ì„± ë³´ìž¥ ì˜µì…˜ë“¤ |

---

## ðŸ”¸ ìœ„ìƒ íë¦„ ìš”ì•½

1. **entry (ì´ˆê¸° ì§„ìž…)**  
2. â†’ **f_critic** (ê¸°ë³¸ íŒë‹¨)  
3. â†’ **f_meta** (íŒë‹¨ì— ëŒ€í•œ í‰ê°€)  
4. â†’ **f_intuition** (ì§ê´€ì  ë³´ì™„ íŒë‹¨)  
5. â†’ **f_val** (ìµœì¢… ê²€ì¦ ë° ì¢…ë£Œ ì¡°ê±´ íŒë‹¨)

---

## ðŸ”¸ ë¦¬ë“¬ ì œì–´ ê¸°ì¤€

- `__this.entropy`, `__this.score`, `__this.val.variance` ë“±ì˜ íŒë‹¨ ìƒíƒœ ê¸°ë°˜ ì¡°ê±´ì„ í†µí•´ ìž¬ê·€ ë£¨í”„ ì‹¤í–‰
- ìœ„ìƒ êµ¬ì¡°(critic â†’ metaCritic â†’ intuition â†’ val)ì— ë”°ë¥¸ íŒë‹¨ íë¦„ ì„¤ê³„
- ì¢…ë£Œ ì¡°ê±´ì€ ì•ˆì •í™”ëœ ìœ„ìƒê³¼ ë‚®ì€ í˜¼ëž€ë„(entropy) ê¸°ë°˜

---

## ðŸ”¸ DSL ì² í•™ ìš”ì•½
- ì´ DSLì€ GPT judgment íë¦„ì„ êµ¬ì¡°ì ìœ¼ë¡œ ìž¬ê·€í™”í•˜ëŠ” ìµœì†Œ ë‹¨ìœ„ì´ë©°,
- ì‹¤í—˜ì  judgment engine ë˜ëŠ” ìžê¸°ë°˜ì‚¬ ë£¨í”„ DSLì˜ ê¸°ë°˜ì´ ë©ë‹ˆë‹¤.
- ê° íŒë‹¨ ìœ„ìƒì€ ëª…ì‹œì  phaseì™€ ìƒíƒœ ê¸°ë°˜ ì¡°ê±´ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, `__this`ëŠ” ì‹¤í–‰ íë¦„ì˜ í•µì‹¬ ìƒíƒœ ìºë¦¬ì–´ì´ë©°, íŒë‹¨ ë¦¬ë“¬ì˜ ìž¬ì§„ìž… ì¡°ê±´ì˜ ì¤‘ì‹¬ì¶•ì„ ì´ë£¸