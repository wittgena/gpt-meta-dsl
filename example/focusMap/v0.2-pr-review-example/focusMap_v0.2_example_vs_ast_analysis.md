# 🧠 FocusMap vs AST 구조 비교 – 예시 기반 분석

이 문서는 `@focusMap.nextSpec` 기반 PR 리뷰 판단 흐름 예제를 통해  
전통적인 AST(Abstract Syntax Tree)와의 구조적, 개념적 차이점을 분석합니다.

---

## 🔍 주요 비교 항목

| 항목 | AST | FocusMap (예시 기준) | 설명 |
|------|-----|-----------------------|------|
| 목적 | 코드 구문 해석 | 판단 흐름 구조화 | 목적 자체가 다름 |
| 노드 의미 | 구문 단위 (If, Assign 등) | 판단 단위 (+critic, +val 등) | 의미 단위 차이 |
| 재귀성 | 구문 중첩 기반 | `recurse_if` 조건 기반 반복 | 동적 루프 가능 |
| 흐름 조건 | 순차 탐색 | entropy, score 등 상태 기반 분기 | 실행 흐름 제어 |
| 종료 조건 | 없음 | `terminate_if` 명시적 종료 조건 | 루프 안정화 판단 |
| 메타 정보 | 주석 수준 | `desc`, `eval_trace`, `source_ref` 등 메타 정보 포함 | 인간/LLM 해석 가능성 증가 |
| 의사결정 가능성 | 없음 | 판단 실행 및 자기 평가 포함 | 실행 구조로 진화 가능 |

---

## 🧠 예시 기반 차이점 요약

### 1. 의미 기반 판단 조건 흐름
```dsl
recurse_if: "__this.entropy > 0.6"
condition_name: "복잡한 로직 판단 조건"
```
- 판단자의 상태 기반 흐름 제어
- AST에서는 표현 불가

---

### 2. 행동 중심 노드 구조
```dsl
action: +critic
phase: "critic"
```
- 각 노드는 "무엇을 판단하는가"를 표현
- AST는 단순 문법 구조 (e.g., ForStatement)

---

### 3. 자기 반사 및 메타 판단 루프
```dsl
phase: "metaCritic"
eval_trace: "피드백 일부가 반복됨"
```
- 판단 결과 자체를 평가하는 루프
- AST에는 존재하지 않는 개념

---

## ✅ 결론

> FocusMap은 AST와 달리 **판단자 중심**, **상태 기반 재귀**, **자기 반사**, **조건 기반 종료**를 포함한  
> 실행형 판단 흐름 DSL로서, PR 리뷰, LLM 추론, 인간 의사결정 모델링 등에 적합한 구조를 갖는다.